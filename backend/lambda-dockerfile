FROM public.ecr.aws/lambda/nodejs:16

ARG CONTACT_SENDER_EMAIL
ARG CONTACT_SENDER_IDENTITY
ARG CONTACT_DESTINATION_EMAIL

ENV CONTACT_SENDER_EMAIL ${CONTACT_SENDER_EMAIL}
ENV CONTACT_SENDER_IDENTITY ${CONTACT_SENDER_IDENTITY}
ENV CONTACT_DESTINATION_EMAIL ${CONTACT_DESTINATION_EMAIL}

WORKDIR ${LAMBDA_TASK_ROOT}
COPY ./* ./
RUN npm install
CMD [ "index.handler" ]